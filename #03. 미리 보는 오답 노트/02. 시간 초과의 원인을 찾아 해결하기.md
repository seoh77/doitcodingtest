# 03-2. 시간 초과의 원인을 찾아 해결하기

### 시간 초과 주원인

1. 풀이 로직의 시간 복잡도가 제한 시간 안에 문제를 해결할 수 있는 수준인지 확인

   → 만약 시간 복잡도가 너무 높다면 풀이 로직 자체를 변경해야 함

2. 입출력 최적화를 고려

- `Scanner` 과 `System.out.print()` 대신 `BufferedReader` 와 `BufferedWriter`를 활용하면 처리 속도를 크게 향상O

- 1,000,000개의 정수를 입력받고 출력하는 데 걸리는 시간을 비교한 표 (참고용)

  | 방식                             | 입력 속도 (초) | 출력 속도 (초) | 총 소요 시간 (초) |
  | -------------------------------- | -------------- | -------------- | ----------------- |
  | Scanner 과 System.out.print      | 1.8            | 1.2            | 3                 |
  | BufferedReader 와 BufferedWriter | 0.3            | 0.3            | 0.6               |

<br />

### 입출력 방식에 따라 성능 차이가 발생하는 이유

Scanner는 입력할 때마다 필요한 자료형으로 변환하는 과정을 거치므로 처리 속도가 느려질 수 있다. 또한 `System.out.print`는 출력이 발생할 때마다 버퍼를 비우는 작업이 이뤄지므로 성능이 저하될 수 있다.

반면, BufferedReader는 입력을 버퍼에 저장한 후 데이터를 한 번에 읽어 오는 방식으로 I/O 작업 횟수를 줄여 성능을 향상한다. BufferdWriter도 마찬가지로, 출력할 데이터를 먼저 버퍼에 저장한 후 한 번에 출력하는 방식으로 성능을 개선한다. `writer()` 함수로 데이터를 버퍼에 추가하고, `flush()` 함수로 버퍼의 내용을 한꺼번에 출력함으로써 효율을 높인다.

이러한 이유로 대량의 데이터를 처리할 때는 BufferdReader와 BufferedWriter를 사용하는 것이 더 효과적이다.

<br />

```java
Scanner과 System.out.print VS BufferedReader와 BufferdWriter

public class Main {

	public static void main(String[] args) throws IOException {
		Scanner sc = new Scanner(System.in);
		int a = sc.nextInt();
		System.out.println(a);

		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
		int b = Integer.parseInt(br.readLine());
		bw.write(String.valueOf(b));		// BufferedWriter에서 정수는 String형으로 변환하여 출력
		bw.flush();
	}
}
```
