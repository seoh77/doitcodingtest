# 문제 033. 블루레이 만들기

![문제033](./img/문제033_블루레이만들기.png)

### 문제 풀이

- 블루레이 개수가 M일 때, 블루레이 크기의 최솟값을 이진 탐색으로 찾으면 된다.
- 이진 탐색의 시작 인덱스는 최대 길이의 레슨이고, 종료 인덱스는 모든 레슨 길이의 합이다.

- 예를 들어 1번째 탐색에서 중앙값은 $(9+45) / 2 = 27$ 이다. 크기가 27인 블루레이에 강의를 1부터 9까지 차례대로 저장할 때 총 몇 장의 블루레이가 필요한지 확인한다.
  문제 예시의 경우 2장의 블루레이에 모든 레슨을 저장할 수 있다. 입력에서 주어진 블루레이 개수 3장 이내에 모든 레슨을 저장할 수 있으므로 종료 인덱스를 26으로 수정한 뒤 다시 탐색을 진행한다.
- 2번째 탐색에서 중앙값은 $(9+26) / 2 = 17$ 이다. 이 경우 총 3장의 블루레이에 모든 강의가 담기므로 다시 종료 인덱스를 16으로 수정한 뒤 탐색을 진행한다.
- 3번째 탐색에서 중앙값은 $(9+16) / 2 = 12$ 이다. 이 경우 총 5장의 블루레이에 모든 강의가 담긴다. 3장으로 모든 강의를 저장할 수 없으므로 시작 인덱스를 13으로 수정한뒤
  다시 탐색을 진행한다.
- 이런 방식으로 이진 탐색을 진행하다가 '시작 인덱스 > 종료 인덱스' 조건을 만족할 때 이진탐색을 종료하면 시작 인덱스는 17이다.
  이 값이 문제의 조건을 만족하는 블루레이 크기의 최솟값이다.

### 문제집 풀이

```java
메모리 108204KB, 시간 748ms

public class P2343_블루레이 {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int N = sc.nextInt();
		int M = sc.nextInt();
		int[] A = new int [N];

		int start = 0;
		int end = 0;
		for(int i=0; i<N; i++) {
			A[i] = sc.nextInt();

			if(start < A[i]) {
				start = A[i];	// 레슨 최댓값을 시작 인덱스로 저장하기
			}

			end = end + A[i];	// 모든 레슨의 총합을 종료 인덱스로 저장하기
		}

		while(start <= end) {
			int middle = (start + end) / 2;
			int sum = 0;
			int count = 0;

			// middle 값으로 모든 레슨을 저장할 수 있는지 확인
			for(int i=0; i<N; i++) {
				if(sum + A[i] > middle) {
					count++;
					sum = 0;
				}

				sum = sum + A[i];
			}

			// 탐색 후 sum이 0이 아니라면 블루레이 1개가 더 필요하므로 더함
			if(sum != 0) {
				count++;
			}

			if(count > M) {
				start = middle + 1;
			} else {
				end = middle - 1;
			}
		}

		System.out.println(start);
	}
}
```
