# 문제 056. 줄 세우기

![문제056](./img/문제056_줄세우기.png)

### 내가 작성한 코드

```java
메모리 51356KB, 시간 752ms

public class P2252_줄세우기 {

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine());

		int N = Integer.parseInt(st.nextToken());	// 학생들 수
		int M = Integer.parseInt(st.nextToken());	// 키를 비교한 횟수

		ArrayList<Integer> [] adj = new ArrayList [N+1];	// 비교한 키 정보 저장
		for(int i=1; i<=N; i++) {
			adj[i] = new ArrayList<Integer>();
		}

		int[] shortNum = new int [N+1];		// 자신보다 키 작은 사람의 수

		for(int i=0; i<M; i++) {
			st = new StringTokenizer(br.readLine());
			int p1 = Integer.parseInt(st.nextToken());
			int p2 = Integer.parseInt(st.nextToken());

			adj[p1].add(p2);
			shortNum[p2]++;
		}

		List<Integer> answer = new ArrayList<Integer>();
		Queue<Integer> queue = new LinkedList<Integer>();

		// 1. 진입 차수가 0인 노드 선택 (queue 초기값 설정)
		for(int i=1; i<shortNum.length; i++) {
			if(shortNum[i] == 0) {
				queue.add(i);
			}
		}

		while(!queue.isEmpty()) {
			// 2. 선택된 노드를 정답에 넣기
			int num = queue.poll();
			answer.add(num);

			// 3. 선택된 노드가 가리키는 노드들의 진입차수를 1씩 빼기
			for(int next : adj[num]) {
				shortNum[next]--;

				// 3. 진입차수가 0이 되었다면 큐에 추가
				if(shortNum[next] == 0) {
					queue.add(next);
				}
			}
		}

		// 4. 더 이상 비교할 수 없는 값들도 추가
		for(int i=1; i<=N; i++) {
			if(shortNum[i] != 0) {
				answer.add(i);
			}
		}

		// 정답 출력
		for(int num : answer) {
			System.out.print(num + " ");
		}
	}
}
```

### 문제집 풀이

```java
메모리 175256KB, 시간 1244ms

public class P2252_줄세우기 {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int N = sc.nextInt();
		int M = sc.nextInt();

		ArrayList<ArrayList<Integer>> A = new ArrayList<>();
		for(int i=0; i<=N; i++) {
			A.add(new ArrayList<>());
		}

		int[] indegree = new int [N+1];
		for(int i=0; i<M; i++) {
			int S = sc.nextInt();
			int E = sc.nextInt();
			A.get(S).add(E);
			indegree[E]++;
		}

		Queue<Integer> queue = new LinkedList<Integer>();
		for(int i=1; i<=N; i++) {
			if(indegree[i] == 0) {
				queue.offer(i);
			}
		}

		while(!queue.isEmpty()) {
			int now = queue.poll();
			System.out.print(now + " ");
			for(int next : A.get(now)) {
				indegree[next]--;
				if(indegree[next] == 0) {
					queue.offer(next);
				}
			}
		}
	}
}
```
